{% extends "base.html" %}

{% block title %}Image-Feed{% endblock %}

{% block content %}
<ul>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <form method="GET" action="/feed" class="search-container">
                    <input type="text" name="Search_Button" class="form-control search-input" placeholder="Search for ">
                    <button class="btn btn-primary btn-spacing" type="submit">Search</button>
                </form>
            </div>
        </div>
    </div>

    <h1>Image Feed</h1>

    {% if message %}
        <div class="alert alert-{{ message_category }}">
            {{ message }}
        </div>
    {% endif %}
    
    <table class="image-table">
        <thead>
            <tr>
                <th>Image ID</th>
                <th>Image</th>
                <th>Upload Date</th>
                <th>Average Rating</th>
            </tr>
        </thead>
        <tbody>
            {% for image in images %}
                <tr>
                    <td>{{ image.id }}</td>
                    <td>
                        <a href="{{ url_for('view_image', image_id=image.id) }}">
                            <img src="{{ image.url }}" alt="{{ image.image_url }}" />
                        </a>
                    </td>
                    <td>{{ image.upload_date }}</td>
                    <td>
                        {{ image.rating}}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

</ul>

{% endblock %}